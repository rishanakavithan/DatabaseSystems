DROP TABLE STANDCUST CASCADE CONSTRAINTS;
DROP TABLE BUSICUST CASCADE CONSTRAINTS;
DROP TABLE EXECROOM CASCADE CONSTRAINTS;
DROP TABLE STANDROOM CASCADE CONSTRAINTS;
DROP TABLE BOOKING CASCADE CONSTRAINTS;
DROP TABLE CUSTOMER CASCADE CONSTRAINTS;
DROP TABLE ROOM CASCADE CONSTRAINTS;
DROP TABLE ITEM CASCADE CONSTRAINTS;
DROP TABLE SUPPLIER CASCADE CONSTRAINTS;
DROP TABLE EMPLOYEE CASCADE CONSTRAINTS;
DROP TABLE BRANCH CASCADE CONSTRAINTS;

-- Table for Branch

CREATE TABLE BRANCH(
branchID#  VARCHAR2(10) NOT NULL,
STREET VARCHAR2(20),
CITY VARCHAR2(20),
POSTCODE VARCHAR(9),
PRIMARY KEY(branchID#)
);

INSERT INTO BRANCH VALUES('B001','151 London Road','Newcastle-Under-Lyme','ST5 4RD');
INSERT INTO BRANCH VALUES('B002','465 High Street','Manchester','M1 1AB');
INSERT INTO BRANCH VALUES('B003','45 Bankside Road','London','UB1 1NH');
INSERT INTO BRANCH VALUES('B004','32 Market Road','Leeds','LS1 1AA');
INSERT INTO BRANCH VALUES('B005','32 Victoria Road','Glascow','G1 1XX');
INSERT INTO BRANCH VALUES('B006','61 Tollgate Drive','London','UB4 0NP');

-- Table for Employee

CREATE TABLE EMPLOYEE(
empID# VARCHAR2(10)NOT NULL,
branchID#  VARCHAR2(10)NOT NULL,
FNAME VARCHAR2(15),
LNAME VARCHAR2(15),
POSITION VARCHAR2(15),
SEX CHAR(3) CHECK(SEX IN ('F','M')),
DOB DATE,
PRIMARY KEY(empID#),
FOREIGN KEY(branchID#) REFERENCES BRANCH(branchID#) ON DELETE CASCADE
);

INSERT INTO EMPLOYEE VALUES('E001','B001','John','Smith','Manager','M',TO_DATE('15-05-1980','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E002','B002','Sarah','Jones','Manager','F',TO_DATE('19-06-1983','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E003','B003','Jatu','Santh','Manager','M',TO_DATE('12-08-1987','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E004','B004','Aru','Kavi','Manager','M',TO_DATE('06-11-1996','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E005','B005','Siya','Prem','Manager','F',TO_DATE('23-01-1992','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E006','B006','Halie','Brown','Manager','F',TO_DATE('12-02-1999','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E007','B001','Michel','Green','Cleaner','M',TO_DATE('15-04-1988','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E008','B002','Emily','Davis','Cleaner','F',TO_DATE('30-12-2005','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E009','B003','Samantha','Christophor','Cleaner','F',TO_DATE('01-10-2001','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E010','B004','Kevin','Michel','Cleaner','M',TO_DATE('12-09-2004','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E011','B005','Thomos','Wilson','Cleaner','M',TO_DATE('09-04-2002','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E012','B006','Ria','Barry','Cleaner','F',TO_DATE('06-08-2006','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E013','B001','Adam','Hale','Receptionist','M',TO_DATE('08-08-1998','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E014','B001','Mia','Marshall','Receptionist','F',TO_DATE('18-12-2005','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E015','B002','Victor','Ruban','Cook','M',TO_DATE('26-07-1977','DD-MM-YYYY'));
INSERT INTO EMPLOYEE VALUES('E016','B003','Octavia','Octavian','Cook','F',TO_DATE('15-05-2004','DD-MM-YYYY'));


-- Table for Supplier 

CREATE TABLE SUPPLIER(
suppID# VARCHAR2(10)NOT NULL,
branchID#  VARCHAR2(10)NOT NULL,
STREET VARCHAR2(20),
CITY VARCHAR2(20),
POSTCODE VARCHAR(8),
PRIMARY KEY(suppID#),
FOREIGN KEY(branchID#) REFERENCES BRANCH(branchID#) ON DELETE CASCADE
);

INSERT INTO SUPPLIER VALUES ('S001', 'B001', '10 Supply Lane', 'London', 'NW10 5AB');
INSERT INTO SUPPLIER VALUES ('S002', 'B001', '22 Vendor St', 'London', 'SE1 2BC');
INSERT INTO SUPPLIER VALUES ('S003', 'B002', '5 Catering Rd', 'Manchester', 'M2 3DE');
INSERT INTO SUPPLIER VALUES ('S004', 'B003', '8 Furniture Ave', 'Birmingham', 'B2 4FG');
INSERT INTO SUPPLIER VALUES ('S005', 'B004', '3 Equipment Way', 'Leeds', 'LS2 5HI');

INSERT INTO SUPPLIER VALUES('S006','B001','5 Industrial Way','Newcastle-Under-Lyme','ST5 5AA');
INSERT INTO SUPPLIER VALUES('S007','B002','88 Supply Street','Manchester','M1 2DD');
INSERT INTO SUPPLIER VALUES('S008','B003','14 Market Road','London','UB1 2ZZ');
INSERT INTO SUPPLIER VALUES('S009','B004','22 Station Lane','Leeds','LS2 0GH');
INSERT INTO SUPPLIER VALUES('S010','B005','35 Service Street','Glasgow','G1 2LH');

-- Table for Item

CREATE TABLE ITEM(
itemID# VARCHAR2(10)NOT NULL,
suppID# VARCHAR2(10)NOT NULL,
ITEMTYPE VARCHAR2(20),
QUANTITY NUMBER,
PRIMARY KEY(itemID#),
FOREIGN KEY(suppID#) REFERENCES SUPPLIER(suppID#) ON DELETE CASCADE
);

INSERT INTO ITEM VALUES ('IT001', 'S001', 'Food', 50);
INSERT INTO ITEM VALUES ('IT002', 'S001', 'Drinks', 100);
INSERT INTO ITEM VALUES ('IT003', 'S002', 'Decorations', 200);
INSERT INTO ITEM VALUES ('IT004', 'S003', 'AV Equipment', 10);
INSERT INTO ITEM VALUES ('IT005', 'S004', 'Furniture', 30);

INSERT INTO ITEM VALUES('IT006','S006','Chairs',150);
INSERT INTO ITEM VALUES('IT007','S007','Tables',90);
INSERT INTO ITEM VALUES('IT008','S008','Lights',120);
INSERT INTO ITEM VALUES('IT009','S009','Projectors',15);
INSERT INTO ITEM VALUES('IT010','S010','Speakers',30);


-- Table for Room

CREATE TABLE ROOM(
roomID# VARCHAR2(10)NOT NULL,
branchID#  VARCHAR2(10)NOT NULL,
ROOMSIZE VARCHAR2(8) CHECK(ROOMSIZE IN('SMALL', 'MEDIUM', 'LARGE')),
AVAILABILITY CHAR(13) CHECK(AVAILABILITY IN ('Y','N')),
PRIMARY KEY(roomID#, branchID#),
FOREIGN KEY(branchID#) REFERENCES BRANCH(branchID#) ON DELETE CASCADE
);

INSERT INTO ROOM VALUES ('R001', 'B001', 'SMALL', 'Y');
INSERT INTO ROOM VALUES ('R002', 'B001', 'MEDIUM', 'Y');
INSERT INTO ROOM VALUES ('R003', 'B001', 'LARGE', 'Y');
INSERT INTO ROOM VALUES ('R004', 'B001', 'MEDIUM', 'N');
INSERT INTO ROOM VALUES ('R005', 'B001', 'SMALL', 'Y');

INSERT INTO ROOM VALUES ('R001', 'B002', 'SMALL', 'Y');
INSERT INTO ROOM VALUES ('R002', 'B002', 'MEDIUM', 'Y');
INSERT INTO ROOM VALUES ('R003', 'B002', 'LARGE', 'Y');
INSERT INTO ROOM VALUES ('R004', 'B002', 'MEDIUM', 'N');
INSERT INTO ROOM VALUES ('R005', 'B002', 'SMALL', 'Y');
INSERT INTO ROOM VALUES ('R006', 'B002', 'LARGE', 'Y');
INSERT INTO ROOM VALUES ('R007', 'B002', 'MEDIUM', 'Y');
INSERT INTO ROOM VALUES ('R008', 'B002', 'SMALL', 'Y');
INSERT INTO ROOM VALUES ('R009', 'B002', 'LARGE', 'N');
INSERT INTO ROOM VALUES ('R010', 'B002', 'MEDIUM', 'Y');

INSERT INTO ROOM VALUES ('R001', 'B003', 'SMALL', 'Y');
INSERT INTO ROOM VALUES ('R002', 'B003', 'MEDIUM', 'Y');
INSERT INTO ROOM VALUES ('R003', 'B003', 'LARGE', 'Y');
INSERT INTO ROOM VALUES ('R004', 'B003', 'MEDIUM', 'N');
INSERT INTO ROOM VALUES ('R005', 'B003', 'SMALL', 'Y');
INSERT INTO ROOM VALUES ('R006', 'B003', 'LARGE', 'Y');
INSERT INTO ROOM VALUES ('R007', 'B003', 'MEDIUM', 'Y');

INSERT INTO ROOM VALUES ('R001', 'B004', 'SMALL', 'Y');
INSERT INTO ROOM VALUES ('R002', 'B004', 'MEDIUM', 'Y');
INSERT INTO ROOM VALUES ('R003', 'B004', 'LARGE', 'Y');
INSERT INTO ROOM VALUES ('R004', 'B004', 'MEDIUM', 'N');
INSERT INTO ROOM VALUES ('R005', 'B004', 'SMALL', 'Y');
INSERT INTO ROOM VALUES ('R006', 'B004', 'LARGE', 'Y');

INSERT INTO ROOM VALUES ('R001', 'B005', 'SMALL', 'Y');
INSERT INTO ROOM VALUES ('R002', 'B005', 'MEDIUM', 'Y');
INSERT INTO ROOM VALUES ('R003', 'B005', 'LARGE', 'Y');
INSERT INTO ROOM VALUES ('R004', 'B005', 'MEDIUM', 'N');
INSERT INTO ROOM VALUES ('R005', 'B005', 'SMALL', 'Y');
INSERT INTO ROOM VALUES ('R006', 'B005', 'LARGE', 'Y');

INSERT INTO ROOM VALUES ('R001', 'B006', 'SMALL', 'Y');
INSERT INTO ROOM VALUES ('R002', 'B006', 'MEDIUM', 'Y');
INSERT INTO ROOM VALUES ('R003', 'B006', 'LARGE', 'Y');
INSERT INTO ROOM VALUES ('R004', 'B006', 'MEDIUM', 'N');
INSERT INTO ROOM VALUES ('R005', 'B006', 'SMALL', 'Y');
INSERT INTO ROOM VALUES ('R006', 'B006', 'LARGE', 'Y');




-- Table for Customer

CREATE TABLE CUSTOMER(
customID# VARCHAR2(10)NOT NULL,
STREET VARCHAR2(20),
CITY VARCHAR2(10),
POSTCODE VARCHAR2(8),
TELNO VARCHAR2(15),
EMAIL VARCHAR2(30),
PRIMARY KEY(customID#)
);

INSERT INTO CUSTOMER VALUES ('C001', '789 Oak Ave', 'London', 'NW10 5AB', '44123456789', 'corporate@hotmail.com');
INSERT INTO CUSTOMER VALUES ('C002', '321 Pine Rd', 'Manchester', 'M2 2CD', '44987654321', 'alice.johnson@email.com');
INSERT INTO CUSTOMER VALUES ('C003', '159 Elm St', 'Birmingham', 'B1 3EF', '44112233445', 'robert.smith@email.com');
INSERT INTO CUSTOMER VALUES ('C004', '753 Maple Dr', 'Leeds', 'LS1 4GH', '44334455667', 'sarah.wilson@email.com');
INSERT INTO CUSTOMER VALUES ('C005', '987 Cedar Ln', 'Glasgow', 'G1 5IJ', '44556677889', 'david.brown@email.com');

INSERT INTO CUSTOMER VALUES('C007','55 Castle Road','Manchester','M1 3GH','0161-666777','c7@example.com');
INSERT INTO CUSTOMER VALUES('C008','78 Royal Mile','London','UB1 4DF','0207-888999','c8@example.com');
INSERT INTO CUSTOMER VALUES('C009','22 Bridge Street','Leeds','LS1 5JQ','0113-777888','c9@example.com');
INSERT INTO CUSTOMER VALUES('C010','9 Park Place','Glasgow','G1 4AX','0141-999000','c10@example.com');

-- Table for Booking 

CREATE TABLE BOOKING(
bookID# VARCHAR2(10)NOT NULL,
branchID#  VARCHAR2(10)NOT NULL,
roomID# VARCHAR2(10)NOT NULL,
customID# VARCHAR2(10)NOT NULL,
DATEOFBOOKING DATE,
DURATION NUMBER,
EVENTTYPE VARCHAR2(15) CHECK(EVENTTYPE IN ('MEETING','CONFERENCE','PARTY','WEDDINGPARTY')),
NUMOFROOM NUMBER,
PRIMARY KEY(bookID#),
FOREIGN KEY(roomID#,branchID#) REFERENCES ROOM(roomID#,branchID#) ON DELETE CASCADE,
FOREIGN KEY(customID#) REFERENCES CUSTOMER(customID#) ON DELETE CASCADE,
FOREIGN KEY(branchID#) REFERENCES BRANCH(branchID#) ON DELETE CASCADE
);

INSERT INTO BOOKING VALUES ('BK001', 'B001', 'R003', 'C001', TO_DATE('15-06-2023', 'DD-MM-YYYY'), 4, 'CONFERENCE', 1);
INSERT INTO BOOKING VALUES ('BK002', 'B001', 'R001', 'C002', TO_DATE('20-07-2025', 'DD-MM-YYYY'), 2, 'MEETING', 1);
INSERT INTO BOOKING VALUES ('BK003', 'B002', 'R007', 'C003', TO_DATE('01-11-2025', 'DD-MM-YYYY'), 3, 'PARTY', 1);
INSERT INTO BOOKING VALUES ('BK004', 'B001', 'R002', 'C004', TO_DATE('11-12-2024', 'DD-MM-YYYY'), 5, 'WEDDINGPARTY', 1);
INSERT INTO BOOKING VALUES ('BK005', 'B002', 'R006', 'C005', TO_DATE('17-09-2025', 'DD-MM-YYYY'), 2, 'CONFERENCE', 2);
INSERT INTO BOOKING VALUES ('BK006', 'B001', 'R004', 'C002', TO_DATE('21-07-2025', 'DD-MM-YYYY'), 1, 'MEETING', 1);
INSERT INTO BOOKING VALUES ('BK007', 'B002', 'R009', 'C003', TO_DATE('18-12-2025', 'DD-MM-YYYY'), 6, 'PARTY', 3);
INSERT INTO BOOKING VALUES ('BK008', 'B003', 'R002', 'C004', TO_DATE('02-01-2026', 'DD-MM-YYYY'), 4, 'CONFERENCE', 2);
INSERT INTO BOOKING VALUES ('BK009', 'B004', 'R005', 'C005', TO_DATE('10-08-2025', 'DD-MM-YYYY'), 3, 'WEDDINGPARTY', 1);
INSERT INTO BOOKING VALUES ('BK010', 'B005', 'R006', 'C002', TO_DATE('14-06-2025', 'DD-MM-YYYY'), 2, 'CONFERENCE', 2);
INSERT INTO BOOKING VALUES ('BK011', 'B001', 'R002', 'C003', TO_DATE('23-09-2025', 'DD-MM-YYYY'), 5, 'PARTY', 2);
INSERT INTO BOOKING VALUES ('BK012', 'B002', 'R008', 'C004', TO_DATE('15-03-2026', 'DD-MM-YYYY'), 4, 'MEETING', 1);
INSERT INTO BOOKING VALUES ('BK013', 'B003', 'R007', 'C005', TO_DATE('12-10-2025', 'DD-MM-YYYY'), 2, 'CONFERENCE', 1);
INSERT INTO BOOKING VALUES ('BK014', 'B004', 'R003', 'C001', TO_DATE('05-12-2025', 'DD-MM-YYYY'), 6, 'WEDDINGPARTY', 3);
INSERT INTO BOOKING VALUES ('BK015', 'B005', 'R001', 'C002', TO_DATE('25-11-2025', 'DD-MM-YYYY'), 3, 'MEETING', 1);


-- Table for StandardRoom

CREATE TABLE STANDROOM(
roomID# VARCHAR2(10)NOT NULL,
branchID# VARCHAR2(10)NOT NULL,
PARTYTYPE VARCHAR2(15),
DECORATION CHAR(10) CHECK(DECORATION IN ('Y','N')),
PRIMARY KEY(roomID#,branchID#),
FOREIGN KEY(roomID#,branchID#) REFERENCES ROOM(roomID#,branchID#) ON DELETE CASCADE,
FOREIGN KEY(branchID#) REFERENCES BRANCH(branchID#) ON DELETE CASCADE
);

INSERT INTO STANDROOM VALUES ('R001','B001', 'MEETING', 'N');
INSERT INTO STANDROOM VALUES ('R002','B002', 'PARTY', 'Y');
INSERT INTO STANDROOM VALUES ('R004','B003', 'CONFERENCE', 'N');
INSERT INTO STANDROOM VALUES ('R006','B004', 'MEETING', 'Y');
INSERT INTO STANDROOM VALUES ('R001','B005', 'PARTY', 'N');
INSERT INTO STANDROOM VALUES ('R004','B006', 'MEETING', 'N');



-- Table for ExecutiveRoom

CREATE TABLE EXECROOM(
roomID# VARCHAR2(10)NOT NULL,
branchID# VARCHAR2(10)NOT NULL,
TVSET VARCHAR2(10),
INTERNETACC VARCHAR2(10),
BUFFET CHAR(1) CHECK(BUFFET IN ('Y','N')),
PRIMARY KEY(roomID#,branchID#),
FOREIGN KEY(roomID#,branchID#) REFERENCES ROOM(roomID#,branchID#) ON DELETE CASCADE,
FOREIGN KEY(branchID#) REFERENCES BRANCH(branchID#) ON DELETE CASCADE
);

INSERT INTO EXECROOM VALUES ('R003','B001', '55-inch', 'WiFi', 'Y');
INSERT INTO EXECROOM VALUES ('R005','B002', '42-inch', 'Ethernet', 'N');
INSERT INTO EXECROOM VALUES ('R006','B003', '65-inch', 'WiFi', 'Y');
INSERT INTO EXECROOM VALUES ('R005','B004', '50-inch', 'Ethernet', 'N');

-- Table for BusinessCustomer

CREATE TABLE BUSICUST(
customID# VARCHAR2(10)NOT NULL,
BNAME VARCHAR2(15),
BTYPE VARCHAR2(15),
CONTACTFNAME VARCHAR2(10),
CONTACTLNAME VARCHAR2(10),
PAYBYINVOICE CHAR(1)  CHECK(PAYBYINVOICE IN ('Y','N')),
PRIMARY KEY(customID#),
FOREIGN KEY(customID#) REFERENCES CUSTOMER(customID#) ON DELETE CASCADE
);

INSERT INTO BUSICUST VALUES ('C001', 'Acme Corp', 'IT', 'Robert', 'Brown', 'Y');
INSERT INTO BUSICUST VALUES ('C003', 'Global Ltd', 'Finance', 'Jennifer', 'Taylor', 'Y');
INSERT INTO BUSICUST VALUES ('C005', 'Tech Solutions', 'Technology', 'Daniel', 'Miller', 'N');

-- Table for StandardCustomer 

CREATE TABLE STANDCUST(
customID# VARCHAR2(10)NOT NULL,
FNAME VARCHAR2(10),
LNAME VARCHAR2(10),
PRIMARY KEY(customID#),
FOREIGN KEY(customID#) REFERENCES CUSTOMER(customID#) ON DELETE CASCADE
);

INSERT INTO STANDCUST VALUES ('C002', 'Alice', 'Johnson');
INSERT INTO STANDCUST VALUES ('C004', 'Sarah', 'Wilson');

INSERT INTO STANDCUST VALUES('C008','William','Johnson');
INSERT INTO STANDCUST VALUES('C009','Mia','Roberts');
INSERT INTO STANDCUST VALUES('C010','Lucas','Walker');



-- Retriving the Tables

--Retrive from all TABLE

SELECT * FROM STANDCUST;
SELECT * FROM BUSICUST;
SELECT * FROM EXECROOM;
SELECT * FROM STANDROOM;
SELECT * FROM BOOKING;
SELECT * FROM CUSTOMER;
SELECT * FROM ROOM;
SELECT * FROM ITEM;
SELECT * FROM SUPPLIER;
SELECT * FROM EMPLOYEE;
SELECT * FROM BRANCH;

SELECT branchID# 
FROM BRANCH;

-- Retrive with  orderring
SELECT empID#,FNAME,LNAME
FROM EMPLOYEE
WHERE POSITION = 'Manager'
ORDER BY LNAME DESC;

SELECT roomID#,branchID#
FROM ROOM
WHERE ROOMSIZE = 'LARGE'
ORDER BY roomID#,branchID# DESC;

--Join Queries
SELECT BRANCH.branchID# , SUPPLIER.suppID#
FROM BRANCH,SUPPLIER
WHERE BRANCH.CITY = SUPPLIER.CITY;

--Intersect, Union and minus

SELECT CITY FROM BRANCH
UNION
SELECT CITY FROM SUPPLIER;

SELECT CITY FROM BRANCH
INTERSECT
SELECT CITY FROM SUPPLIER;

SELECT CITY FROM BRANCH
MINUS
SELECT CITY FROM SUPPLIER;


commit;